@{
    ViewData["Title"] = "Card Payment";
    var orderId = ViewBag.OrderId;
    var amount = ViewBag.Amount;
    var fromCart = ViewBag.FromCart ?? false;
}

<div class="container my-5 d-flex justify-content-center align-items-center">
    <div class="card shadow-lg border-0 rounded-4 p-4 text-center" style="max-width: 550px;">
        <h3 class="fw-bold text-primary mb-4">💳 Card Payment</h3>

        <div class="mb-3">
            @if (!fromCart)
            {
                <p class="mb-1"><strong>Order ID:</strong> #@orderId</p>
            }
            <p class="mb-1"><strong>Total Amount:</strong> Rs. @amount</p>
        </div>

        <form asp-action="@(fromCart ? "PayByCardConfirmFromCart" : "PayByCardConfirm")" method="post">
            @if (!fromCart)
            {
                <input type="hidden" name="orderId" value="@orderId" />
            }

            <div class="form-group mb-4">
                <label for="cardNumber" class="fw-semibold mb-2">Card Number</label>
                <input type="text" class="form-control shadow-sm rounded-pill text-center" placeholder="XXXX-XXXX-XXXX-XXXX" required />
            </div>

            <div class="form-group mb-4 d-flex gap-2">
                <input type="text" class="form-control shadow-sm rounded-pill text-center" placeholder="MM/YY" required />
                <input type="text" class="form-control shadow-sm rounded-pill text-center" placeholder="CVV" required />
            </div>

            <button type="submit" class="btn btn-success w-100 rounded-pill fw-bold shadow-sm">
                💸 Confirm Card Payment
            </button>
        </form>

        <div class="mt-3">
            @if (!fromCart)
            {
                <a asp-controller="Order" asp-action="Details" asp-route-id="@orderId" class="text-secondary text-decoration-none">
                    ← Back to Order
                </a>
            }
            else
            {
                <a asp-controller="Cart" asp-action="Index" class="text-secondary text-decoration-none">
                    ← Back to Cart
                </a>
            }
        </div>
    </div>
</div>

@if (TempData["Success"] != null)
{
    <div class="alert alert-success text-center mt-3">@TempData["Success"]</div>
}
